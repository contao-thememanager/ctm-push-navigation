var PushNavigation=(()=>{var f=Object.defineProperty,p=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var r=(l,t,e)=>t in l?f(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,c=(l,t)=>{for(var e in t||(t={}))b.call(t,e)&&r(l,e,t[e]);if(o)for(var e of o(t))L.call(t,e)&&r(l,e,t[e]);return l},d=(l,t)=>p(l,v(t));var y=(l,t)=>()=>(t||l((t={exports:{}}).exports,t),t.exports);var E=y((C,u)=>{class S{constructor(t){var e,i,s,n,h,a;this.o=this._merge({selector:"header .nav",startSelector:"strong.active",mode:"slide",toggle:{selector:".mod_toggle",cssClassOpen:"open"},aria:{menu:(e=navAriaLabels.menu_main)!=null?e:"Menu",submenu:(i=navAriaLabels.menu_sub)!=null?i:"Submenu",back:(s=navAriaLabels.menu_back)!=null?s:"Back",to_menu:(n=navAriaLabels.menu_to)!=null?n:"To menu button"},levelStructure:{container:"ul",item:"li.submenu"},handle:{append:null,element:"button",content:"",cssClass:"i-navigate_forward"},breadcrumb:{element:"button",content:'<i class="i-navigate_back"></i> ',textSelector:"a,strong",cssClass:""},keepOpenStateOnResize:!1,maxWidth:parseInt(window.getComputedStyle(document.body).getPropertyValue("--nav-bhr"),10)||1024,modules:[],onShow:()=>{},onHide:()=>{},onInit:()=>{},onDestroy:()=>{}},t||{}),(this.i=document.querySelector(this.o.selector))&&(this.t={v:"pn-init",e:"pn-toggle",h:"pn-handle",c:"pn-breadcrumb",n:"pn-show",l:"pn-active",a:"pn-next",s:"pn-btn",k:"pn-to-menu"},this.e=document.querySelector(this.o.toggle.selector),this.e&&(this.o.maxWidth-=.02,this.s=null,this.b=this.i.querySelectorAll(this.o.levelStructure.item),this.d=!1,this.r=!1,this.u=null,this.L=document.querySelector("header"),this.w=Array.from((h=this.L)==null?void 0:h.parentNode.children).filter(m=>m!==this.L),this.x(),this.q(),this.y=(a=this.i.querySelectorAll("a[href]:not([disabled]), button:not([disabled])")[0])!=null?a:[],this.S=this.s,this.E=this.O.bind(this),this.g(),this._()))}_merge(t,e){return[...new Set([...Object.keys(t),...Object.keys(e)])].reduce((i,s)=>d(c({},i),{[s]:typeof t[s]=="object"?Object.assign({},t[s],e[s]):e[s]?e[s]:t[s]}),{})}q(){const t=document.createElement("a");t.className=this.t.k,t.href="#",t.innerText=this.o.aria.to_menu,t.addEventListener("click",i=>{i.preventDefault(),this.s.focus()});const e=this.i.querySelector("ul");e.parentElement.insertBefore(t,e.parentElement.firstElementChild)}O(t){var e,i;(t.key==="Tab"||t.keyCode===9)&&(document.activeElement===this.S&&!t.shiftKey&&(t.preventDefault(),(e=this.y)==null||e.focus()),document.activeElement===this.y&&t.shiftKey&&(t.preventDefault(),(i=this.S)==null||i.focus()))}f(t){var e;(e=this.w)==null||e.forEach(i=>{t?i.setAttribute("inert",""):i.removeAttribute("inert")}),t?document.addEventListener("keydown",this.E,!1):document.removeEventListener("keydown",this.E,!1)}A(t,e){if(this.o.levelStructure.container==="ul"){const i=document.createElement("li");i.appendChild(t),t=i}return e.insertBefore(t,e.childNodes[0]),t}x(){if(this.e instanceof HTMLButtonElement)this.s=this.e;else{const t=document.createElement("button");t.classList.add(this.t.s,this.t.e),this.e.parentNode.insertBefore(t,this.e),t.appendChild(this.e),this.s=t}this.s.title||(this.s.title=this.o.aria.menu),this.s.ariaExpanded=!1,this.e.classList.add(this.t.e)}g(){var t;if(!(this.d||this.o.maxWidth<=window.innerWidth)){if(this.s.classList.add(this.t.n),this.e.classList.add(this.t.n),this.h=document.createElement(this.o.handle.element),this.h.innerHTML=this.o.handle.content,this.h.classList.add(this.t.h),this.o.handle.cssClass&&this.h.classList.add(this.o.handle.cssClass),this.c=document.createElement(this.o.breadcrumb.element),this.c.classList.add(this.t.c),this.o.breadcrumb.cssClass&&this.h.classList.add(this.o.breadcrumb.cssClass),this.H(),this.T(),this.o.startSelector)if(this.u=this.i.querySelector(this.o.startSelector),!this.u)(t=this.i.querySelector(this.o.levelStructure.container))==null||t.classList.add(this.t.l);else{const e=[];let i=this.u;for(;i;){const s=i.closest(this.o.levelStructure.container);if(!s)break;e.push(s),i=s.parentElement}e.forEach((s,n)=>{n===0?s.classList.add(this.t.l):n===e.length-1?s.classList.add(this.t.a):s.classList.add(this.t.l,this.t.a)})}this.i.classList.add(this.t.v),this.d=!0}}_(){var t;window.addEventListener("resize",()=>{this.o.maxWidth>window.innerWidth?this.g():this.B()},!1),(t=this.s)==null||t.addEventListener("click",()=>{this.r?this.N():this.n()})}H(){for(let t of this.b){let e=t.querySelector(this.o.breadcrumb.textSelector),i=this.h.cloneNode(!0);i.addEventListener("click",h=>this.m(h.target,1),!1),i.ariaLabel=this.o.aria.submenu+" "+e.textContent,this.o.handle.append?t.querySelector(this.o.handle.append).appendChild(i):t.appendChild(i);let s=this.c.cloneNode(!0);s.innerHTML=this.o.breadcrumb.content+e.innerText||e.textContent,s.ariaLabel=this.o.aria.back,s.addEventListener("click",h=>this.m(h.target,-1),!1);let n=t.querySelector(this.o.levelStructure.container);s=this.A(s,n),t.pnHandle=i,t.pnBreadcrumb=s}}T(){var t;this.C=[],this.o.modules&&typeof this.o.modules=="object"&&(this.o.modules=Object.values(this.o.modules)),(t=this.o.modules)!=null&&t.length&&this.o.modules.reverse().forEach(e=>{var n;const i=document.createElement("template");i.innerHTML=(n=e.markup)==null?void 0:n.trim();const s=i.content.firstChild;this.i.querySelectorAll(e.append).forEach(h=>{this.C.push(s),h.append(s)})})}p(t){var e;(e=t==null?void 0:t.querySelector(":scope > li > :is(a,button)"))==null||e.focus()}m(t,e){let i=t.closest(this.o.levelStructure.container);if(e>0){let n=t.closest(this.o.levelStructure.item).querySelector(this.o.levelStructure.container);n.classList.add(this.t.l),i.classList.add(this.t.a),this.p(n),this.i.scrollTo(0,0,{behavior:"smooth"})}else{let s=i.closest("."+this.t.a);i.classList.remove(this.t.l),s.classList.add(this.t.l),s.classList.remove(this.t.a),this.p(s)}}B(){if(this.d){this.s.classList.remove(this.t.n),this.e.classList.remove(this.t.n),this.s.ariaExpanded=!1;for(let t of this.b)t.pnHandle.removeEventListener("click",this.m,!1),t.pnHandle.remove(),t.pnBreadcrumb.removeEventListener("click",this.m,!1),t.pnBreadcrumb.remove();this.C.forEach(t=>t.remove()),this.d=!1,this.i.classList.remove(this.t.v),this.f(!1),this.o.keepOpenStateOnResize||(this.r=!1,this.i.classList.remove(this.t.n),this.e.classList.remove(this.o.toggle.cssClassOpen)),this.i.querySelectorAll(`.${this.t.l},.${this.t.a}`).forEach(t=>{t.classList.remove(this.t.l,this.t.a)}),this.o.onDestroy.call(this),typeof sh!="undefined"&&(sh.play(),document.body.classList.remove("sh-blur"))}}n(){var t;this.i.classList.add(this.t.n),this.e.classList.add(this.o.toggle.cssClassOpen),this.s.ariaExpanded=!0,this.r=!0,this.p((t=this.u)==null?void 0:t.closest(this.o.levelStructure.container)),this.f(!0),this.o.onShow.call(this),typeof sh!="undefined"&&(sh.stop(!1,!0),document.body.classList.add("sh-blur"))}N(){this.i.classList.remove(this.t.n),this.e.classList.remove(this.o.toggle.cssClassOpen),this.s.ariaExpanded=!1,this.r=!1,this.f(!1),this.o.onHide.call(this),typeof sh!="undefined"&&(sh.play(),document.body.classList.remove("sh-blur"))}isOpen(){return this.r}}u.exports=S});return E();})();
