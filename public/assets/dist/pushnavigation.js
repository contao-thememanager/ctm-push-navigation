var PushNavigation=(()=>{var p=Object.defineProperty,v=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var c=(l,e,t)=>e in l?p(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,d=(l,e)=>{for(var t in e||(e={}))L.call(e,t)&&c(l,t,e[t]);if(r)for(var t of r(e))y.call(e,t)&&c(l,t,e[t]);return l},u=(l,e)=>v(l,b(e));var S=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports);var g=S((k,m)=>{class E{constructor(e){var t,i,s,n,h,a,o;this.o=this._merge({selector:"header .nav",startSelector:"strong.active",mode:"slide",toggle:{selector:".mod_toggle",cssClassOpen:"open"},aria:{menu:(t=navAriaLabels.menu_main)!=null?t:"Menu",submenu:(i=navAriaLabels.menu_sub)!=null?i:"Submenu",back:(s=navAriaLabels.menu_back)!=null?s:"Back",to_menu:(n=navAriaLabels.menu_to)!=null?n:"To menu button"},levelStructure:{container:"ul",item:"li.submenu"},handle:{append:null,element:"button",content:"",cssClass:"i-navigate_forward"},breadcrumb:{element:"button",content:'<i class="i-navigate_back"></i> ',textSelector:"a,strong",cssClass:""},keepOpenStateOnResize:!1,maxWidth:parseInt(window.getComputedStyle(document.body).getPropertyValue("--nav-bhr"),10)||1024,modules:[],onShow:()=>{},onHide:()=>{},onInit:()=>{},onDestroy:()=>{}},e||{}),(this.i=document.querySelector(this.o.selector))&&(this.e={v:"pn-init",t:"pn-toggle",h:"pn-handle",c:"pn-breadcrumb",n:"pn-show",l:"pn-active",a:"pn-next",s:"pn-btn",k:"pn-to-menu"},this.t=document.querySelector(this.o.toggle.selector),this.t&&(this.o.maxWidth-=.02,this.s=null,this.b=this.i.querySelectorAll(this.o.levelStructure.item),this.d=!1,this.r=!1,this.u=null,this.L=document.querySelector("header"),this.q=Array.from((h=this.L)==null?void 0:h.parentNode.children).filter(f=>f!==this.L),this.w(),this.x(),this.y=(o=(a=this.i.parentNode.querySelector(".mod_logo a[href]"))!=null?a:this.i.querySelectorAll("a[href]:not([disabled]), button:not([disabled])")[0])!=null?o:[],this.S=this.s,this.E=this._.bind(this),this.g(),this.O()))}_merge(e,t){return[...new Set([...Object.keys(e),...Object.keys(t)])].reduce((i,s)=>u(d({},i),{[s]:typeof e[s]=="object"?Object.assign({},e[s],t[s]):t[s]?t[s]:e[s]}),{})}x(){const e=document.createElement("a");e.className=this.e.k,e.href="#",e.innerText=this.o.aria.to_menu,e.addEventListener("click",i=>{i.preventDefault(),this.s.focus()});const t=this.i.querySelector("ul");t.parentElement.insertBefore(e,t.parentElement.firstElementChild)}_(e){var t,i;(e.key==="Tab"||e.keyCode===9)&&(document.activeElement===this.S&&!e.shiftKey&&(e.preventDefault(),(t=this.y)==null||t.focus()),document.activeElement===this.y&&e.shiftKey&&(e.preventDefault(),(i=this.S)==null||i.focus()))}f(e){var t;(t=this.q)==null||t.forEach(i=>{e?i.setAttribute("inert",""):i.removeAttribute("inert")}),e?document.addEventListener("keydown",this.E,!1):document.removeEventListener("keydown",this.E,!1)}A(e,t){if(this.o.levelStructure.container==="ul"){const i=document.createElement("li");i.appendChild(e),e=i}return t.insertBefore(e,t.childNodes[0]),e}w(){if(this.t instanceof HTMLButtonElement)this.s=this.t;else{const e=document.createElement("button");e.classList.add(this.e.s,this.e.t),this.t.parentNode.insertBefore(e,this.t),e.appendChild(this.t),this.s=e}this.s.title||(this.s.title=this.o.aria.menu),this.s.ariaExpanded=!1,this.t.classList.add(this.e.t)}g(){var e;if(!(this.d||this.o.maxWidth<=window.innerWidth)){if(this.s.classList.add(this.e.n),this.t.classList.add(this.e.n),this.h=document.createElement(this.o.handle.element),this.h.innerHTML=this.o.handle.content,this.h.classList.add(this.e.h),this.o.handle.cssClass&&this.h.classList.add(this.o.handle.cssClass),this.c=document.createElement(this.o.breadcrumb.element),this.c.classList.add(this.e.c),this.o.breadcrumb.cssClass&&this.h.classList.add(this.o.breadcrumb.cssClass),this.H(),this.T(),this.o.startSelector)if(this.u=this.i.querySelector(this.o.startSelector),!this.u)(e=this.i.querySelector(this.o.levelStructure.container))==null||e.classList.add(this.e.l);else{const t=[];let i=this.u;for(;i;){const s=i.closest(this.o.levelStructure.container);if(!s)break;t.push(s),i=s.parentElement}t.forEach((s,n)=>{n===0?s.classList.add(this.e.l):n===t.length-1?s.classList.add(this.e.a):s.classList.add(this.e.l,this.e.a)})}this.i.classList.add(this.e.v),this.d=!0}}O(){var e;window.addEventListener("resize",()=>{this.o.maxWidth>window.innerWidth?this.g():this.B()},!1),(e=this.s)==null||e.addEventListener("click",()=>{this.r?this.N():this.n()})}H(){for(let e of this.b){let t=e.querySelector(this.o.breadcrumb.textSelector),i=this.h.cloneNode(!0);i.addEventListener("click",h=>this.m(h.target,1),!1),i.ariaLabel=this.o.aria.submenu+" "+t.textContent,this.o.handle.append?e.querySelector(this.o.handle.append).appendChild(i):e.appendChild(i);let s=this.c.cloneNode(!0);s.innerHTML=this.o.breadcrumb.content+t.innerText||t.textContent,s.ariaLabel=this.o.aria.back,s.addEventListener("click",h=>this.m(h.target,-1),!1);let n=e.querySelector(this.o.levelStructure.container);s=this.A(s,n),e.pnHandle=i,e.pnBreadcrumb=s}}T(){var e;this.C=[],this.o.modules&&typeof this.o.modules=="object"&&(this.o.modules=Object.values(this.o.modules)),(e=this.o.modules)!=null&&e.length&&this.o.modules.reverse().forEach(t=>{var n;const i=document.createElement("template");i.innerHTML=(n=t.markup)==null?void 0:n.trim();const s=i.content.firstChild;this.i.querySelectorAll(t.append).forEach(h=>{this.C.push(s),h.append(s)})})}p(e){var t;(t=e==null?void 0:e.querySelector(":scope > li > :is(a,button)"))==null||t.focus()}m(e,t){let i=e.closest(this.o.levelStructure.container);if(t>0){let n=e.closest(this.o.levelStructure.item).querySelector(this.o.levelStructure.container);n.classList.add(this.e.l),i.classList.add(this.e.a),this.p(n),this.i.scrollTo(0,0,{behavior:"smooth"})}else{let s=i.closest("."+this.e.a);i.classList.remove(this.e.l),s.classList.add(this.e.l),s.classList.remove(this.e.a),this.p(s)}}B(){if(this.d){this.s.classList.remove(this.e.n),this.t.classList.remove(this.e.n),this.s.ariaExpanded=!1;for(let e of this.b)e.pnHandle.removeEventListener("click",this.m,!1),e.pnHandle.remove(),e.pnBreadcrumb.removeEventListener("click",this.m,!1),e.pnBreadcrumb.remove();this.C.forEach(e=>e.remove()),this.d=!1,this.i.classList.remove(this.e.v),this.f(!1),this.o.keepOpenStateOnResize||(this.r=!1,this.i.classList.remove(this.e.n),this.t.classList.remove(this.o.toggle.cssClassOpen)),this.i.querySelectorAll(`.${this.e.l},.${this.e.a}`).forEach(e=>{e.classList.remove(this.e.l,this.e.a)}),this.o.onDestroy.call(this),typeof sh!="undefined"&&(sh.play(),document.body.classList.remove("sh-blur"))}}n(){var e;this.i.classList.add(this.e.n),this.t.classList.add(this.o.toggle.cssClassOpen),this.s.ariaExpanded=!0,this.r=!0,this.p((e=this.u)==null?void 0:e.closest(this.o.levelStructure.container)),this.f(!0),this.o.onShow.call(this),typeof sh!="undefined"&&(sh.stop(!1,!0),document.body.classList.add("sh-blur"))}N(){this.i.classList.remove(this.e.n),this.t.classList.remove(this.o.toggle.cssClassOpen),this.s.ariaExpanded=!1,this.r=!1,this.f(!1),this.o.onHide.call(this),typeof sh!="undefined"&&(sh.play(),document.body.classList.remove("sh-blur"))}isOpen(){return this.r}}m.exports=E});return g();})();
